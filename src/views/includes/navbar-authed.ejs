<nav class="sticky top-0 z-50 w-full border-b border-black/10 bg-white/70 backdrop-blur-md">
<div class="mx-auto flex max-w-6xl items-center justify-between px-4 py-3">
    <a href="/" class="font-semibold tracking-tight text-lg sm:text-xl">
    Better <span class="font-extrabold">Us</span>.
    </a>

    <div class="relative flex items-center gap-3 text-sm">
    <!-- Greeting button that toggles the dropdown -->
    <button id="userMenuBtn"
            class="relative rounded-full px-4 py-2 font-medium text-black transition hover:shadow-md hover:cursor-pointer">
        <span id="username"></span>
        <!-- Red badge (hidden by default, shown by JS if > 0) -->
        <span id="inviteBadge"
            class="ml-2 hidden rounded-full bg-red-500 px-1.5 py-0.5 text-xs font-bold text-white align-middle">0</span>
    </button>

    <button id="logoutBtn"
            class="rounded-full border border-black px-4 py-2 font-medium text-black transition hover:bg-black hover:text-white hover:cursor-pointer">
    Logout
    </button>

    <!-- DROPDOWN -->
    <div id="userMenu"
        class="absolute right-0 top-[120%] hidden w-72 rounded-2xl border border-black/10 bg-white p-3 shadow-lg">

        <!-- Main menu view -->
        <div id="menuMain" class="space-y-1">
        <button id="openInvites"
                class="flex w-full items-center justify-between rounded-xl px-4 py-3 text-left hover:bg-black/5 hover:cursor-pointer">
            <span class="text-base">Invites</span>
            <span id="inviteBadgeInside"
                class="hidden rounded-full bg-red-500 px-2 py-0.5 text-xs font-bold text-white">0</span>
        </button>

        <a href="#"
            class="block rounded-xl px-4 py-3 hover:bg-black/5">Archive</a>

        <a href="#"
            class="block rounded-xl px-4 py-3 hover:bg-black/5">Settings</a>
        </div>

        <!-- Invites list view -->
        <div id="invitesView" class="hidden">
        <div class="mb-3 flex items-center gap-2">
            <button id="backToMenu" aria-label="Back"
                    class="rounded-lg px-2 py-1 hover:bg-black/5">
            â€¹
            </button>
            <h3 class="text-lg font-semibold">Invites</h3>
        </div>

        <!-- Empty state -->
        <p id="noInvites" class="rounded-xl bg-black/5 px-4 py-3 text-sm text-gray-700">
            No active invites.
        </p>

        <!-- Populated by JS -->
        <ul id="invitesList" class="mt-2 space-y-2"></ul>
        </div>
    </div>
    </div>
</div>
</nav>
